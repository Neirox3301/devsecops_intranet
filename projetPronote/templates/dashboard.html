<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dashboard</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style/dashboard.css') }}">
    </head>
    <body>
        <div class="general-div">
            <div class="menu">
                <h2>{{ user.first_name }} {{ user.last_name }}</h2>
                <button onclick="changeContent('notes')">
                    <img src="{{ url_for('static', filename='svg/notes.svg') }}" alt="Notes">
                    Notes
                </button>
                <button onclick="changeContent('bulletins')">
                    <img src="{{ url_for('static', filename='svg/bulletin.svg') }}" alt="Bulletins">
                    Bulletins
                </button>
                <button onclick="changeContent('messagerie')">
                    <img src="{{ url_for('static', filename='svg/message.svg') }}" alt="Messagerie">
                    Messagerie
                </button>
                <button onclick="changeContent('professeurs')">
                    <img src="{{ url_for('static', filename='svg/teachers.svg') }}" alt="Professeurs">
                    Professeurs
                </button>
                <button onclick="changeContent('parametres')">
                    <img src="{{ url_for('static', filename='svg/settings.svg') }}" alt="Paramètres">
                    Paramètres
                </button>
                <button>
                    <img src="{{ url_for('static', filename='svg/logout.svg') }}" alt="Déconnexion">
                    <a href="{{ url_for('login_bp.home') }}">Déconnexion</a>
                </button>
            </div>

            <div class="main-div" id="content">
                <h1 style="font-size: 48px; margin: 20px 0 10px 0;">Bienvenue, élève {{ user.first_name }} {{ user.last_name }}</h1>
                <h3 style="font-size: 24px;">Sélectionnez une option dans le menu.</h3>
            </div>
        </div>

        <script>
            function changeContent(section) {
                const contentDiv = document.getElementById("content");

                let contentHTML = "";

                if (section === "notes") {
                    contentHTML = `
                        <h2 class='onglet-title'>Vos notes</h2>
                        <table class="tableau-notes">
                            <tr>
                                <th>Matière</th>
                                <th>Note</th>
                            </tr>
                            {% for grade in grades %}
                            <tr>
                                <td>{{ grade.subject_id }}</td>
                                <td>{{ grade.grade }}</td>
                            </tr>
                            {% endfor %}
                        </table>
                        <div style="margin: 10px 0">
                            <h3>Moyenne générale : moyenne generale</h3>
                        </div>
                    `;
                } else if (section === "bulletins") {
                    contentHTML = "<h2 class='onglet-title'>Bulletins</h2><p>Affichage des bulletins...</p>";
                } else if (section === "messagerie") {
                    contentHTML = "<h2 class='onglet-title'>Messagerie</h2><p>Votre boîte de messagerie...</p>";
                } else if (section === "professeurs") {
                    contentHTML = "<h2 class='onglet-title'>Professeurs</h2><p>Liste des professeurs...</p>";
                } else if (section === "parametres") {
                    contentHTML = "<h2 class='onglet-title'>Paramètres</h2><p>Réglages du compte...</p>";
                }
                contentDiv.innerHTML = contentHTML;
            }
        </script>
    </body>
</html>
